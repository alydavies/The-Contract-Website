{% load static %}

<div class="panel panel-default css-gift-preview" style="margin-bottom: 0px;">
    <div class="panel-heading">
        <h3 class="" style="margin-top: 5px; margin-bottom: 5px"
            v-bind:data-original-title="renderedDescription"
            v-bind:data-title="renderedDescription"
            data-placement="bottom"
            data-html="true"
            data-toggle="tooltip"
            class="has-popover">
            <span v-if="giftName" v-text="giftName"></span>
            <span v-if="giftName === null" class="hidden-xs">
                Gift Preview
            </span>
            <span v-if="giftName === null">
                <small>
                <div class="text-muted" v-html="renderedDescription"> </div>
                </small>
            </span>
            <small>
                <i>
                    <span v-if="giftTagline.length > 0" v-text="giftTagline" style="margin-left: 10px;">
                    </span>
                </i>
            </small>
        </h3>
        <div class="pull-right">
            <span style="border-radius: 3px; padding: 3px; background-color: #20252d;">
                <span data-html="true"
                      v-bind:data-original-title="giftCostTooltip"
                      v-bind:data-title="giftCostTooltip"
                      data-toggle="tooltip"
                      class="has-popover"><b>Cost:
                        <span v-html="giftCost"></span>
                    </b>
                </span>
            </span>
        </div>
        <div v-if="requiredStatus" class="pull-right text-muted"  data-toggle="tooltip" title="Seasoned = 10+ Victories. Veteran = 25+ Victories"
            style="margin-right: 3px;">
            <i>Requires <b>{requiredStatus}</b></i>
        </div>
        <div>
            <span
                    v-if="selectedModality"
                    v-bind:data-title="selectedModality.displayName"
                    v-bind:data-original-title="selectedModality.displayName"
                    data-toggle="tooltip"
                    class="has-popover" >
                <img  v-bind:src="selectedModality.icon_url" width="20" height="20" >
            </span>
            <span
                    v-if="selectedEffect"
                    v-bind:data-title="selectedEffect.displayName"
                    v-bind:data-original-title="selectedEffect.displayName"
                    data-toggle="tooltip"
                    class="has-popover">
                <img v-bind:src="selectedEffect.icon_url" width="20" height="20" >
            </span>
            <span
                    v-if="selectedVector"
                    v-bind:data-title="selectedVector.displayName"
                    v-bind:data-original-title="selectedVector.displayName"
                    data-toggle="tooltip"
                    class="has-popover">
                <img v-bind:src="selectedVector.icon_url" width="20" height="20" >
            </span>
            <span
                    v-if="enhancementList.length > 0"
                    data-html="true"
                    aria-hidden="true"
                    v-bind:data-title="enhancementList"
                    v-bind:data-original-title="enhancementList"
                    data-placement="bottom"
                    data-toggle="tooltip"
                  >
                <span style="position:relative; left: 2px; top: 1px; font-size: 14px;">
                    { getSelectedAndActiveEnhancements().length}
                </span>
                <span class="glyphicon glyphicon-menu-up">
                </span>
            </span>
            <span
                    v-if="drawbackList.length > 0"
                    data-html="true"
                    aria-hidden="true"
                    v-bind:data-title="drawbackList"
                    v-bind:data-original-title="drawbackList"
                    data-placement="bottom"
                    data-toggle="tooltip"
            >
                <span style="position:relative; left: 2px; top: 1px; font-size: 14px;">
                    { getSelectedAndActiveDrawbacks().length}
                </span>
                <span class="glyphicon glyphicon-menu-down">
                </span>
            </span>
        </div>
    </div>
    <div class="panel-body" style="padding-top: 5px;">
        <div v-if="giftDescription" v-text="giftDescription" class="css-system-text-user-input" style="margin-top: 5px; margin-bottom: 5px;">
        </div>
        <div v-if="giftDescription" style="margin: auto; width: 50%;">
            <hr style="margin-top: 10px; margin-bottom: 10px;">
        </div>
        <div id="rendered-system" v-html="renderedSystem" class="js-render-power-keywords">
        </div>
        <div v-if="giftErrata">
                <span data-toggle="tooltip"
                      data-html="true"
                      data-placement="top"
                      v-bind:data-title="giftErrata"
                      v-bind:data-original-title="giftErrata"
                      class="has-popover css-extended-system">
                    <i class="fa fa-question-circle fa-lg"></i>
            </span>
        </div>
    </div>
</div>
